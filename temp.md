## 1. 私有、内部、公共和外部函数之间的区别？

**私有只能在合约内部用，内部再多加派生合约，公共哪里都能用，外部只能外部调用。**

---

## 2. view 和 pure 函数有什么区别？

**`view` 可以读取但不能修改状态，`pure` 既不能读取也不能修改状态，只做纯计算。**

---

## 3. 1 ether 相当于多少个 wei，多少个 gwei？

**1 Ether 等于 10 的 18 次方 wei，等于 10 的 9 次方 gwei。**

---

## 4. Solidity 0.8.0 版本对算术运算的有什么重大变化？

**算术运算现在自动检查上下溢出，有问题会抛错然后回滚。**

---

## 5. 对于智能合约中，实现允许地址列表 allowlist，使用映射还是数组更好？为什么？

**用映射更好，查找快、省 Gas，操作也简单。**

---

## 6. 以太坊主要使用什么哈希函数？

**以太坊主要用 Keccak-256，就是类似 SHA-3 的哈希函数。**

---

## 7. assert 和 require 有什么区别？

**require 查外部，不满足就回滚并退还 Gas；assert 查内部，失败时消耗所有 Gas 并抛异常。**

---

## 8. 智能合约大小最大多少？

**24KB，超了部署不了。**

---

## 9. 为什么 Solidity 废弃了 years 关键字？

**闰年嘛，一年天数不固定，会出问题，没法用，所以废弃了 `years`。**

---

## 10. Solidity 提供哪些关键字来测量时间？

**用 `block.timestamp` 拿当前时间，还有 `seconds`、`minutes`、`hours`、`days`、`weeks` 这些时间单位。**

---

## 11. 在 Solidity 中，存储 -1 的 int256 变量用十六进制如何表示？

**就是 64 个 F，写成 0xffff...ffff。**

---

## 12. 在 Solidity 中，uint256 可以存储的最大值是多少，如何获取？

**最大值是 2 的 256 次方减 1，用 `type(uint256).max` 就能拿到。**

---

## 13. uint8、uint32、uint64、uint128、uint256 都是有效的 uint 大小，还有其他的吗？

**有的，uint 从 uint8 开始，每增加 8 位都有一个类型，一直到 uint256。**

---

## 14. 为什么 Solidity 不支持浮点数运算？

**浮点数不精确**

---

## 15. fallback 和 receive 之间有什么区别？

**`receive` 专门接收纯以太币转账，`fallback` 处理未知函数调用或带数据的以太币转账。**

---

## 16. Solidity 中的修饰符 modifier 有什么作用？

**修饰符用于在函数执行前后加入条件检查或逻辑。**

---

## 17. 有哪些方式可以向智能合约中存入以太币？

**通过 `payable` 函数、`receive` 函数、`fallback` 函数、合约间转账或 `selfdestruct`。**

---

## 18. Solidity 访问控制有哪些，有什么用？

**访问控制用于限制谁能调用某些函数，保护合约安全。**

---

## 19. 运行以太坊独立验证节点所需的最小以太数量是多少？

**运行以太坊验证节点需要质押 32 ETH。**

---

## 20. 以太坊什么机制阻止了无限循环的永远运行？

**以太坊通过 Gas 机制阻止无限循环。**

---

## 21. 在 EIP-1559 之前，如何计算以太坊交易的美元成本？

**交易费用 = Gas 使用量 × Gas 价格 × ETH 对美元的汇率。**

---

## 22. 上海升级后，每个区块的 gas 限制是多少？

**上海升级后，每个区块的 Gas 限制仍为 3000 万 Gas。**

---

## 23. 在一个智能合约中调用另一个智能合约时可以转发多少 Gas？

**`transfer` 和 `send` 限制为 2300 Gas，`call` 可以自定义 Gas 转发量。**

---

## 24. ERC20 合约中的 `transfer` 和 `transferFrom` 有什么区别？

**`transfer` 是用户直接转账，`transferFrom` 是由第三方代为转账。**

---

## 25. 在区块链上如何使用随机数？

**区块链上生成随机数具有挑战性，需防止矿工操控，常用链下预言机提供随机数。**

---

## 26. 什么是检查效果 Check-Effects 模式？

**Check-Effects 模式通过先修改状态再进行外部交互，防止重入攻击。**

---

## 27. create 和 create2 之间的区别？

**`CREATE` 生成不可预测的地址，`CREATE2` 可通过指定 `salt` 预先预测合约地址。**

---

## 28. 代理合约需要哪种特殊的 call 才能工作？

**代理合约使用 `delegatecall` 保持自己的存储与上下文，执行外部目标合约的逻辑。**

---

## 29. tx.origin 和 msg.sender 有什么区别？

**`tx.origin` 是整个交易的发起者，`msg.sender` 是当前调用的发起者。**

---

## 30. abi.encode 和 abi.encodePacked 有什么区别？

**`abi.encode` 编码更标准、对齐，`abi.encodePacked` 编码紧凑，但有碰撞风险。**

---

## 31.  根据 Solidity 编程风格，函数应该如何排序？

**按可见性和功能性排序，提升代码可读性。**

---

## 32.  根据 Solidity 编程风格，函数修饰符应该如何排序？

**修饰符按照可见性、状态、payable、自定义顺序排序，提升代码清晰度。**

---

## 33. Solidity 中整数除法是不是遵循四舍五入？

**Solidity 中整数除法不进行四舍五入，而是截断取整，舍弃余数。**

---
